(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function f(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=f(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{const u=document.getElementById("fodaForm"),n=Array.from(document.querySelectorAll(".step:not(#successStep)")),f=document.getElementById("successStep"),i=document.getElementById("progressBar"),e=document.getElementById("nextBtn"),t=document.getElementById("prevBtn"),r=document.getElementById("submitBtn"),h=document.getElementById("navButtons"),g=document.querySelector("header p");let s=0;function m(){n.forEach((d,c)=>{d.classList.toggle("active",c===s)});const o=(s+1)/n.length*100;i.style.width=`${o}%`,t.classList.toggle("hidden",s===0),s===n.length-1?(e.classList.add("hidden"),r.classList.remove("hidden")):(e.classList.remove("hidden"),r.classList.add("hidden")),window.scrollTo({top:0,behavior:"smooth"})}function p(){const o=n[s],d=o.querySelectorAll("input[required]");let c=!0;const a=new Set;return d.forEach(l=>a.add(l.name)),a.forEach(l=>{if(!o.querySelector(`input[name="${l}"]:checked`)){c=!1;const y=o.querySelector(`input[name="${l}"]`).closest(".question");y.style.borderLeft="4px solid #ef4444",setTimeout(()=>y.style.borderLeft="none",2e3)}}),c}e.addEventListener("click",()=>{p()?s<n.length-1&&(s++,m()):alert("Por favor, califica los puntos clave antes de continuar.")}),t.addEventListener("click",()=>{s>0&&(s--,m())}),u.addEventListener("submit",o=>{if(o.preventDefault(),!p())return;const d=new FormData(u),c=Object.fromEntries(d.entries());console.log("FODA Data for Analysis:",c),r.disabled=!0,r.innerHTML="Enviando a Matriz...",g.innerText="Generando Matriz de Calidad Institucional...",setTimeout(()=>{n.forEach(a=>a.classList.remove("active")),f.classList.add("active"),h.classList.add("hidden"),i.parentElement.style.display="none"},2e3)}),m()});
